@using CafeApp.Business.Helpers.Dtos
@using CafeApp.Business.Interfaces
@using CafeApp.Domain.Interfaces
@using CafeApp.Shared.RestClient.Interfaces
@inject IApplicationUnit _unit;
@inject IRestUnit _restUnit;
@inject INotification _notification;
@inject NavigationManager _navigation;
@page "/dashboard/tables"
@layout AdminLayout

<MudButton OnClick=GoToCreatePAge Style="margin-top: -7px; margin-bottom: 10px;" ButtonType="ButtonType.Button" Variant="Variant.Filled" ClickPropagation="true">
    <MudIcon Icon="@Icons.Material.Rounded.Create" Size="Size.Large"></MudIcon>
</MudButton>
<MudIconButton OnClick=Sync Icon="@Icons.Material.Filled.Sync" Title="ارسال به سرور">ارسال به سرور</MudIconButton>

<MudDataGrid Breakpoint="Breakpoint.None" T="TableDto"  ServerData="LoadData" >
    <Columns>
        <PropertyColumn Sortable="false" Title="عنوان" Property="x => x.Title" />
        <PropertyColumn Sortable="false" Title="شماره" Property="x => x.Number" />

        <TemplateColumn Title="وضعیت"  >
            <CellTemplate>
                <MudStack   Row>
                   <MudCheckBox Value="@context.Item.IsActive"></MudCheckBox>
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
        <TemplateColumn Title="ویرایش" >
            <CellTemplate>
                <MudStack  Row>
                   <MudButton OnClick="()=>Edit(context.Item.Id)">
                       <MudIcon Icon="@Icons.Material.Filled.Edit"></MudIcon>
                   </MudButton>
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
        <TemplateColumn Title="حذف">
            <CellTemplate>
                <MudStack Row>
                    <MudButton OnClick="()=>Delete(context.Item.Id)">
                        <MudIcon Icon="@Icons.Material.Filled.Delete"></MudIcon>
                    </MudButton>
                </MudStack>
            </CellTemplate>
        </TemplateColumn>

        
    </Columns>
</MudDataGrid>

